<!-- MAIN WRAPPER -->
    <div class="main-wrapper bg-gray-9">
        {% include('shop/layout/header.twig')%}

        <!-- MOBILE MENU -->
        <div class="mobile-header-active mobile-header-wrapper-style">
            <div class="clickalbe-sidebar-wrap">
                <a class="sidebar-close"><i class="icon_close"></i></a>
                <div class="mobile-header-content-area">

                    <div class="mobile-menu-wrap mobile-header-padding-border-2">
                        <!-- mobile menu start -->
                        <nav>
                            <ul class="mobile-menu">
                                <li><a href="#">Home</a></li>
                                <li><a href="#">About</a></li>
                                <li class="menu-item-has-children"><a href="#">Shop</a>
                                    <ul class="dropdown">
                                        <li><a href="#">Smartphone </a></li>
                                    </ul>
                                </li>
                                <li><a href="#">Contact us</a></li>
                            </ul>
                        </nav>
                        <!-- mobile menu end -->
                    </div>
                    <div class="mobile-social-icon">
                        <a class="facebook" href="#"><i class="icon-social-facebook"></i></a>
                        <a class="instagram" href="#"><i class="icon-social-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <!-- END MOBILE MENU -->

        <!-- MOBILE VIEW SEARCH AREA -->
        <div class="mobile-view-search p-3 pt-0 d-block d-md-block d-lg-block d-xl-none">
            <div class="input-group input-group-sm">
                <input type="text" class="form-control" placeholder="What are you looking for?"
                    aria-label="Recipient's username" aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2"><i
                        class="icon-magnifier"></i></button>
            </div>
        </div>
        <!-- END MOBILE VIEW SEARCH AREA -->

        <!-- Breadcrumb-area -->
        <div class="breadcrumb-area bg-gray">
            <div class="container">
                <div class="breadcrumb-content text-center">
                    <ul>
                        <li>
                            <a href="{{BASE_URL}}index">Home</a>
                        </li>
                        <li class="active">Login - Register</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Breadcrumb-area -->

 
        <!-- LOGIN AND REGISTER -->
        <section class="login-register-area pt-115 pb-120">
            <div class="container">

                <div class="row">

                    <div class="col-lg-4 col-md-12 ms-auto me-auto">
                        <div class="login-register-wrapper">
                            <div class="login-register-tab-list nav">
                                <a class="active" data-bs-toggle="tab" href="#lg1">
                                    <h4> login </h4>
                                </a>
                                <a  data-bs-toggle="tab" href="#lg2">
                                    <h4> register </h4>
                                </a>
                            </div>
                            <div class="tab-content">
                                <!--login-->
                                                             {% include('admin/layout/notification.twig') %}
                                <div id="lg1" class="tab-pane active">
                                    <div class="login-form-container">
                                        {# <button type="button"
                                            class="btn btn-outline-secondary d-flex w-100 mb-2 align-items-center justify-content-center facebook text-white">
                                            <i class="icon-social-facebook me-1"></i>Sign in with Facebook</button> #}
                                        {# <p class="orvia"><span>Or via email</span></p> #}
                                        <div class="login-register-form">

                                             {{ form_open('', 'class="login_form" id="login_form" name="login_form"')|raw }}

                                                <div class="mb-3">
                                                    {# <input class="form-control shadow-none" type="text" name="user-name" placeholder="Your Email/Phone Number"> #}
                                                    <input type="text" class="form-control" name="username" id="username" placeholder="{{lang('user_name')}}" tabindex='1' autocomplete='off'>
                                                     {% if login_error.username is defined %}<code> {{ login_error.username}} </code> {% endif %}
                                                </div>
                                                <div class="mb-3">
                                                    {# <input class="form-control shadow-none" type="password"  name="user-password" placeholder="Password"> #}
                                                    <input type="password" class="form-control password" id="password" name="password" placeholder="{{lang('password')}}" tabindex='2'>
                                                    {% if login_error.password is defined %}<code> {{ login_error.password}} </code> {% endif %}
                                                </div>
                                                <div class="button-box">
                                                    <div class="login-toggle-btn">
                                                        <input type="checkbox">
                                                        <label>Keep me logged in</label>
                                                        <a href="login-forgot" >Forgot your password?</a>
                                                    </div>
                                                    {# <button class="d-block btn" type="submit">Sign In</button> #}

                                                    <button type="submit" class="d-block btn" id="login" name="login" value="Login"> {{lang('sign_in')}} </button>



                                                    <p class="mt-3 mb-0">
                                                        Don't have an account? <span onclick=`$("a[data-bs-toggle='tab']").click()`> Sign up</span> for one
                                                    </p>
                                                    <!-- <p class="mt-1">
                                                        Or just <a class="text-decoration-underline" href="#">checkout as a guest</a>
                                                    </p> -->
                                                </div>

                                            {{form_close()|raw}}

                                        </div>
                                    </div>
                                </div>
                                <!--end login-->

                                <!--register-->
                                <div id="lg2" class="tab-pane ">
                                    <div class="login-form-container">
                                        <!-- fb or-->
                                        {# <button type="button"
                                            class="btn btn-outline-secondary d-flex w-100 mb-2 align-items-center justify-content-center facebook text-white">
                                            <i class="icon-social-facebook me-1"></i>Sign up with Facebook</button> #}
                                        {# <p class="orvia"><span>Or via email</span></p> #}
                                        <!-- end fb or-->
                                   
                                        <div class="login-register-form">
                                           {{ form_open('', 'class="save_form" id="save_form" name="save_form"')|raw }}
                                                <div class="mb-3">
                                                    <input class="form-control shadow-none" type="text" name="first_name" id="first_name" placeholder="First Name">
                                                     {% if login_error.first_name is defined %}<code> {{ login_error.first_name}} </code> {% endif %}
                                             
                                                </div>
                                                <div class="mb-3">
                                                    <input class="form-control shadow-none" type="text" name="last_name" id="last_name" placeholder="Last Name">
                                                     {% if login_error.last_name is defined %}<code> {{ login_error.first_name}} </code> {% endif %}
                                             
                                                </div>
                                                <div class="mb-3">
                                                    <input class="form-control shadow-none" type="email" name="email"  id="email" placeholder="Your Email">
                                                     {% if login_error.email is defined %}<code> {{ login_error.email}} </code> {% endif %}
                                              
                                                </div>
                                                <div class="mb-3">
                                                    <input class="form-control shadow-none" type="password" id="password" name="password" placeholder="Password">
                                                     {% if login_error.password is defined %}<code> {{ login_error.password}} </code> {% endif %}
                                               
                                                </div>
                                                {# <div class="mb-3">
                                                    <input class="form-control shadow-none" type="number" name="user-password" placeholder="Mobile Number (we’ll send you a verification code)">
                                                </div> #}
                                                <div class="button-box">
                                                    <button type="submit" name="add_user" value="add_user">Sign up</button>
                                                </div>
                                                <p class="mt-3 mb-0">Already have an account? <span onclick=`$("a[data-bs-toggle='tab']").click()`> Sign In</span> now</p>
                                                <p class="mt-1">
                                                    {# Or just <a class="text-decoration-underline" href="#">checkout as a guest</a> #}
                                                </p>
                                            {{form_close()|raw}}
                                        </div>
                                    </div>
                                </div>
                                <!--end register-->

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- END LOGIN AND REGISTER -->
        {% include('shop/layout/footer.twig')%}
       
    </div>
    <!-- END MAIN WRAPPER --> 

<script>
     {# $.validator.addMethod("valiEmail", function () {
    var isSuccess = false;
    $.ajax({url: "register/valid_email",
        data: {email: $("#email").val()},
        async: false,
        success:
                function (msg) {
                    isSuccess = msg === "yes" ? true : false
                }
    });
    return isSuccess;
}, "Sorry, Email Not Available"); #}
</script>
<script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.19.0/jquery.validate.min.js"></script>
<script src="http://cdn.syncfusion.com/js/assets/external/jsrender.min.js"></script>
<script src="http://cdn.syncfusion.com/16.4.0.52/js/web/ej.web.all.min.js"></script>
<script>
    var valSingleStep = function () {

    var form = $('#save_form');
    var errorHandler2 = $('.errorHandler', form);
    var successHandler2 = $('.successHandler', form);
    form.validate({
        errorElement: "span", // contain the error msg in a small tag
        errorClass: 'help-block',
        errorPlacement: function (error, element) { // render error placement for each input type
            if (element.attr("type") == "radio" || element.attr("type") == "checkbox") {// for chosen elements, need to insert the error after the chosen container
                error.insertAfter($(element).closest('.form-group').children('div').children().last());
            } else if (element.hasClass("ckeditor")) {
                error.insertAfter($(element).closest('.input-group'));
            } else {
               error.insertAfter($(element).closest('.form-group').children('div').children().last());

            }
        },
        ignore: "",
        rules: {
            first_name: {
                required: true,
            },
            last_name: {
                required: true,
            },
            email: {
                //valiEmail: true,
                required: true,
                email: true,
            },
            password: {
                required: true,
                minlength: 6,
                //passwordFormat: true
            }
        },
        messages: {
            first_name: {
                required:"first_name_req_js",//$('#first_name_req_js').html(),
            },
            last_name: {
                 required:"first_name_req_js",
            },
            email: {
                //valiEmail: $('#invalid_email_js').html(),
                  required:"first_name_req_js",
                email: "first_name_req_js",
                //validOtpEmail:$('#otp_valid_email_js').html()
            },
            password: {
               // passwordFormat: $('#passwaord_validation_js').html(),
                required:"first_name_req_js",
            }
        },
        invalidHandler: function (event, validator) { //display error alert on form submit
            successHandler2.hide();
            errorHandler2.show();
        },
        highlight: function (element) {
            $(element).closest('.help-block').removeClass('valid'); // display OK icon
            $(element).closest('.form-group').removeClass('has-success').addClass('has-error').find('.symbol').removeClass('ok').addClass('required');
            // add the Bootstrap error class to the control group
        },
        unhighlight: function (element) { // revert the change done by hightlight
            $(element).closest('.form-group').removeClass('has-error');
            // set error class to the control group
        },
        success: function (label, element) {
            label.addClass('help-block valid');
            // mark the current input as valid and display OK icon
            $(element).closest('.form-group').removeClass('has-error').addClass('has-success').find('.symbol').removeClass('required').addClass('ok');
        },
        submitHandler: function (form) {
            successHandler2.show();
            errorHandler2.hide();
            // submit form//$('#form2').submit();

            form.submit();
        }
    });
};
</script>

<script>
$(document).ready(function() {
 valSingleStep();
});

 </script> 
